import{_ as s,c as a,o as n,a as p}from"./app.e5c9c12c.js";const A=JSON.parse('{"title":"Docker5\u5206\u949F\u642D\u5EFAWordPress","description":"","frontmatter":{"title":"Docker5\u5206\u949F\u642D\u5EFAWordPress","categories":["linux"],"tags":["\u670D\u52A1\u5668"]},"headers":[{"level":2,"title":"\u4E00\u3001\u5B89\u88C5Docker","slug":"\u4E00\u3001\u5B89\u88C5docker"},{"level":2,"title":"\u4E8C\u3001\u4E3ADocker\u955C\u50CF\u4E0B\u8F7D\u52A0\u901F","slug":"\u4E8C\u3001\u4E3Adocker\u955C\u50CF\u4E0B\u8F7D\u52A0\u901F"},{"level":2,"title":"\u4E09\u3001\u5B89\u88C5 Docker Compose","slug":"\u4E09\u3001\u5B89\u88C5-docker-compose"},{"level":2,"title":"\u56DB\u3001\u53C2\u8003\u94FE\u63A5","slug":"\u56DB\u3001\u53C2\u8003\u94FE\u63A5"}],"relativePath":"linux/docker.md","lastUpdated":1657985137000}'),e={name:"linux/docker.md"},o=p(`<p>\u672C\u6587\u4E0D\u662F\u4ECB\u7ECDDocker\u662F\u4EC0\u4E48\u6982\u5FF5\u7684\u57FA\u7840\u7BC7\uFF0C\u5982\u60F3\u4E86\u89E3Docker\u662F\u4EC0\u4E48\u6982\u5FF5\u7684\u8BF7\u81EA\u884C\u8C37\u6B4C\uFF08\u6211\u4E5F\u662F\u770B\u4E86\u597D\u591A\u4ECB\u7ECD\u624D\u5F00\u59CB\u624B\u52A8\u505A\u7684:)</p><h2 id="\u4E00\u3001\u5B89\u88C5docker" tabindex="-1">\u4E00\u3001\u5B89\u88C5Docker <a class="header-anchor" href="#\u4E00\u3001\u5B89\u88C5docker" aria-hidden="true">#</a></h2><h4 id="mac" tabindex="-1">Mac: <a class="header-anchor" href="#mac" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ brew cask install docker</span></span>
<span class="line"></span></code></pre></div><h4 id="centos" tabindex="-1">CentOS: <a class="header-anchor" href="#centos" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ sudo yum update</span></span>
<span class="line"><span style="color:#A6ACCD;">$ curl -fsSL https://get.docker.com -o get-docker.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">$ sudo sh get-docker.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">$ sudo systemctl start docker</span></span>
<span class="line"></span></code></pre></div><p>linux\u7A0D\u5FAE\u9EBB\u70E6\u4E9B\uFF0C\u53CD\u6B63\u6211\u662F\u6CA1\u8FD9\u6837\u88C5\u4E0A\uFF0C\u6211\u6700\u540E\u4F7F\u7528pip\u88C5\u4E0A\u7684:)</p><h4 id="\u9A8C\u8BC1\u5B89\u88C5\u6210\u529F" tabindex="-1">\u9A8C\u8BC1\u5B89\u88C5\u6210\u529F <a class="header-anchor" href="#\u9A8C\u8BC1\u5B89\u88C5\u6210\u529F" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker run hello-world</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u672C\u5730\u6CA1\u6709\u76F8\u5E94\u7684Image\uFF0C\u5C31\u56DE\u53BBpull\uFF0C\u540E\u9762\u5982\u679C\u770B\u5230<code>Hello from Docker!</code>\u5B57\u6837\u5C31\u8BF4\u660E\u5B89\u88C5\u6210\u529F\u4E86</p><h2 id="\u4E8C\u3001\u4E3Adocker\u955C\u50CF\u4E0B\u8F7D\u52A0\u901F" tabindex="-1">\u4E8C\u3001\u4E3ADocker\u955C\u50CF\u4E0B\u8F7D\u52A0\u901F <a class="header-anchor" href="#\u4E8C\u3001\u4E3Adocker\u955C\u50CF\u4E0B\u8F7D\u52A0\u901F" aria-hidden="true">#</a></h2><p>\u7531\u4E8E\u56FD\u5185\u7F51\u7EDC\u8FDE\u63A5Docker\u4ED3\u5E93\u975E\u5E38\u6162\uFF0C\u6240\u4EE5\u914D\u7F6E\u56FD\u5185\u955C\u50CF\u52A0\u901F\u8FD8\u662F\u975E\u5E38\u5FC5\u8981\u7684\uFF0C\u8FD9\u91CC\u6CA1\u5565\u5751\uFF0C\u81EA\u884C\u8C37\u6B4C\u5427:)</p><h2 id="\u4E09\u3001\u5B89\u88C5-docker-compose" tabindex="-1">\u4E09\u3001\u5B89\u88C5 Docker Compose <a class="header-anchor" href="#\u4E09\u3001\u5B89\u88C5-docker-compose" aria-hidden="true">#</a></h2><h4 id="_1\u3001\u7B80\u4ECB" tabindex="-1">1\u3001\u7B80\u4ECB <a class="header-anchor" href="#_1\u3001\u7B80\u4ECB" aria-hidden="true">#</a></h4><p>\u770B\u5230\u8FD9\u91CC\u662F\u4E0D\u8981\u6253\u4EBA\u4E86\uFF0C\u5C3C\u739B\u8FD8\u5565\u4E5F\u6CA1\u5E72\u5462\u5C31\u8BA9\u8001\u5B50\u88C5\u4E86\u8FD9\u4E48\u591A\u4E1C\u897F\u3002</p><p>\u5404\u4F4D\u5927\u7237\u8BF7\u5148\u5C06\u4F60\u4EEC\u7684\u5200\u6536\u597D\uFF0C\u542C\u6211\u5A13\u5A13\u9053\u6765\u3002</p><p>\u4E00\u822C\u6765\u8BF4\u6211\u4EEC\u7684\u8D77\u4E2Ademo\u5C31\u4E00\u4E2A\u5B9E\u4F8B\u5C31\u591F\u4E86\uFF0C\u4F46\u662F\u4E00\u822C\u6765\u8BF4\uFF0Cweb\u5E94\u7528\u4F1A\u67092\u4E2A\u6216\u4EE5\u4E0A\u4E2A\u670D\u52A1\uFF0C\u50CFWordPress\u8FD9\u79CD\u7B80\u5355\u7684\u4E5F\u6709web+db2\u4E2A\uFF0C\u8FD8\u522B\u8BF4\u8FD9\u5176\u4E2D\u8FD8\u8981\u76F8\u4E92\u4F9D\u8D56\u5173\u7CFB\uFF0C\u6BD4\u5982\u5148\u8D77DB,\u518D\u8D77web\u3002</p><p>Compose \u662F Docker \u516C\u53F8\u63A8\u51FA\u7684\u4E00\u4E2A\u5DE5\u5177\u8F6F\u4EF6\uFF0C\u53EF\u4EE5\u7BA1\u7406\u591A\u4E2A Docker \u5BB9\u5668\u7EC4\u6210\u4E00\u4E2A\u5E94\u7528\u3002\u4F60\u9700\u8981\u5B9A\u4E49\u4E00\u4E2A YAML \u683C\u5F0F\u7684\u914D\u7F6E\u6587\u4EF6<code>docker-compose.yml</code>\uFF0C\u5199\u597D\u591A\u4E2A\u5BB9\u5668\u4E4B\u95F4\u7684\u8C03\u7528\u5173\u7CFB\u3002\u7136\u540E\uFF0C\u53EA\u8981\u4E00\u4E2A\u547D\u4EE4\uFF0C\u5C31\u80FD\u540C\u65F6\u542F\u52A8/\u5173\u95ED\u8FD9\u4E9B\u5BB9\u5668\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># \u542F\u52A8\u6240\u6709\u670D\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">$ docker-compose up</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u5173\u95ED\u6240\u6709\u670D\u52A1</span></span>
<span class="line"><span style="color:#A6ACCD;">$ docker-compose stop</span></span>
<span class="line"></span></code></pre></div><h4 id="_2\u3001\u5B89\u88C5" tabindex="-1">2\u3001\u5B89\u88C5 <a class="header-anchor" href="#_2\u3001\u5B89\u88C5" aria-hidden="true">#</a></h4><p>Mac \u548C Windows \u5728\u5B89\u88C5 docker \u7684\u65F6\u5019\uFF0C\u4F1A\u4E00\u8D77\u5B89\u88C5 docker compose\u3002Linux \u7CFB\u7EDF\u4E0B\u7684\u5B89\u88C5\u53C2\u8003<a href="https://docs.docker.com/compose/install/#install-compose" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a>\u3002</p><p>\u5B89\u88C5\u5B8C\u6210\u540E\uFF0C\u8FD0\u884C\u4E0B\u9762\u7684\u547D\u4EE4\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker-compose --version</span></span>
<span class="line"></span></code></pre></div><h4 id="_3\u3001\u5F00\u59CB\u521B\u5EFA" tabindex="-1">3\u3001\u5F00\u59CB\u521B\u5EFA <a class="header-anchor" href="#_3\u3001\u5F00\u59CB\u521B\u5EFA" aria-hidden="true">#</a></h4><p>\u627E\u4E00\u7A7A\u76EE\u5F55\uFF0C\u521B\u5EFA\u6587\u4EF6<code>docker-compose.yml</code>,\u5E76\u5199\u5165\uFF1A</p><div class="language-yaml"><span class="copy"></span><pre><code><span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3.3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">services</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#F07178;">db</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql:5.7</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">db_data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">MYSQL_ROOT_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">somewordpress</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">MYSQL_DATABASE</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">MYSQL_USER</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">MYSQL_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#F07178;">wordpress</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">depends_on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">db</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8000:80</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">WORDPRESS_DB_HOST</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">db:3306</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">WORDPRESS_DB_USER</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">WORDPRESS_DB_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wordpress</span></span>
<span class="line"><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">db_data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span></code></pre></div><p>\u542F\u52A8\u4E24\u4E2A\u5BB9\u5668</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker-compose up</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u672C\u673A\uFF0C\u6D4F\u89C8\u5668\u8BD5\u7740\u8BBF\u95EE\u4E0B <code>http://127.0.0.1:808</code>, \u5982\u679C\u662F\u5916\u90E8\u670D\u52A1\u5668 \u5C06ip\u6539\u6210\u5BF9\u5E94ip, \u5E94\u8BE5\u5C31\u80FD\u770B\u5230 WordPress \u7684\u5B89\u88C5\u754C\u9762\u3002</p><p>\u73B0\u5728\u5173\u95ED\u4E24\u4E2A\u5BB9\u5668\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker-compose stop</span></span>
<span class="line"></span></code></pre></div><p>\u5173\u95ED\u4EE5\u540E\uFF0C\u8FD9\u4E24\u4E2A\u5BB9\u5668\u6587\u4EF6\u8FD8\u662F\u5B58\u5728\u7684\uFF0C\u5199\u5728\u91CC\u9762\u7684\u6570\u636E\u4E0D\u4F1A\u4E22\u5931\u3002\u4E0B\u6B21\u542F\u52A8\u7684\u65F6\u5019\uFF0C\u8FD8\u53EF\u4EE5\u590D\u7528\u3002\u4E0B\u9762\u7684\u547D\u4EE4\u53EF\u4EE5\u628A\u8FD9\u4E24\u4E2A\u5BB9\u5668\u6587\u4EF6\u5220\u9664\uFF08\u5BB9\u5668\u5FC5\u987B\u5DF2\u7ECF\u505C\u6B62\u8FD0\u884C\uFF09\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker-compose rm</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u95EE\u9898\uFF0C\u67E5\u770B<a href="https://docs.docker.com/compose/wordpress/" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a></p><p>\u5982\u679C\u4E0D\u60F3\u901A\u8FC7IP+port\u8BBF\u95EE\u670D\u52A1\u7684\u8BDD\uFF0C\u53EF\u4EE5\u7533\u8BF7\u4E2A\u57DF\u540D\uFF0Cnginx\u505A\u4E0B\u914D\u7F6E\uFF0C\u53EF\u4EE5\u770B\u6211nginx\u91CC\u90A3\u7BC7\u6587\u7AE0\u3002</p><h2 id="\u56DB\u3001\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u56DB\u3001\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u56DB\u3001\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><p>1\u3001<a href="http://www.ruanyifeng.com/blog/2018/02/docker-wordpress-tutorial.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2018/02/docker-wordpress-tutorial.html</a> by ruanyifeng</p>`,37),l=[o];function c(r,t,d,i,D,y){return n(),a("div",null,l)}var h=s(e,[["render",c]]);export{A as __pageData,h as default};
